**Современные технологии серверной разработки**
## Лабораторная работа №3 (4 ч)

**Тема:** Разработка распределенного приложения с использованием Java RMI.

**Цель работы:** Освоить принципы удаленного вызова методов в Java, реализовать клиент-серверное приложения для доступа к базе данных через JDBC.

### Теоретические сведения

Java RMI (Remote Method Invocation) - это технология, позволяющая вызывать методы удалённых объектов, находящихся на другом компьютере в сети, как будто они локальные. Это высокоуровневая альтернатива ручной работе с сокетами (TCP/UDP).

В Java RMI реализован в пакете `java.rmi`.

#### Реализация сервера
Для использования механизма RMI для начала необходимо описать интерфейс, методы которого будут доступны клиентам. При этом интерфейс должен наследоваться от интерфейса `Remote` и все методы должны выбрасывать исключение `RemoteException`.

```Java
public interface IController extends Remote {
    String hello(String params) throws RemoteException;
}
```

Этот интерфейс должен быть как у сервера, так и у клиента.

Далее на сервере необходимо написать реализацию созданного интерфейса. При этом класс, реализующий этот интерфейс, должен наследоваться от класса `UnicastRemoteObject`:

```Java
public class TestController extends UnicastRemoteObject implements IController {
    public TestController() throws RemoteException {
        super();
    }

    @Override
    public String hello(String params) throws RemoteException {
        return "Hi! Params length: " + params.length();
    }
}
```

Теперь необходимо зарегистрировать реализованный класс в RMI Registry - служба, которая хранит ссылки на удаленные объекты. При создании этой службы необходимо указать сетевой порт (обычно используется порт 1099). При регистрации реализованного класса необходимо задать ему имя (любое). По этому имени клиент будет получать ссылку на удаленный объект.

```Java
// Создаем объект, методы которого клиенты будут вызывать удаленно
IController controller = new TestController();
// Создаем RMI Registry
Registry registry = LocateRegistry.createRegistry(1099);
// Регистрируем удаленный объект
registry.rebind("TestService", controller);
```

#### Реализация клиента
На клиенте все просто: необходимо подключиться к RMI Registry по IP-адресу и порту и получить ссылку на удаленный объект по имени. После этого можно вызывать удаленные методы:

```Java
// Подключаемся к RMI Registry
Registry registry = LocateRegistry.getRegistry("localhost", 1099);
// Получаем ссылку на удаленный объект
IController controller = (IController) registry.lookup("TestService");

// Вызываем удаленный метод
String result = controller.hello("param_1");
```

Т.е. клиент вызывает метод `hello` интерфейса `IController`, но этот метод выполняется на сервере в реализации этого интерфейса `TestController`.
### Задание

Дополнить приложение, разработанное в л.р. №2, механизмом RMI. Сервер должен предоставлять удаленные методы для выполнения CRUD и др. операций, при этом необходимо обеспечить сериализацию передаваемых объектов. Клиент подключается к серверу и использует удаленные методы. Тип UI на выбор (консольный, графический).

**Отчёт по лабораторной работе должен содержать:**
1. Цель и задачи работы.
2. Список реализованных классов для взаимодействия с использованием RMI.
3. Содержимое конфигурационного файла и список параметров с описанием.
4. Скриншоты с результатами работы программы (сервер и клиент).
5. Вывод по выполненной работе